(this["webpackJsonpgoogle-maps"]=this["webpackJsonpgoogle-maps"]||[]).push([[0],{62:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(4),l=s.n(r),a=s(14),i=s(23),c=s(19),o=s.n(c),d=s(37),u=s(26),j=s.n(u),g=s(78);var m=[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],h=s(1);function p(e){let{marker:t,onDelete:s,id:n,setSelected:r}=e;return Object(h.jsxs)("div",{className:"addressBox",children:[Object(h.jsx)("div",{className:"d1",children:Object(h.jsx)("p",{children:t.address})}),Object(h.jsx)("div",{className:"d2",children:Object(h.jsx)(g.a,{"aria-label":"delete",onClick:()=>{s(n),r(null)},children:Object(h.jsx)(j.a,{})})})]})}function b(e){return Object(h.jsx)(o.a,{value:e.address,onChange:e.setAddress,onSelect:e.handleSelect,children:e=>{let{getInputProps:t,suggestions:s,getSuggestionItemProps:n,loading:r}=e;return Object(h.jsxs)("div",{className:"searchBox",children:[Object(h.jsx)("input",Object(a.a)({className:"inputBox"},t({placeholder:"Type Address"}))),Object(h.jsxs)("div",{children:[r?Object(h.jsxs)("div",{className:"loading-places",children:[Object(h.jsx)("div",{className:"loading-spinner"}),Object(h.jsx)("span",{children:"Loading places..."})]}):null,s.map((e,t)=>{const s={backgroundColor:e.active?"rgba(8, 217, 214, 0.35)":"#fff",width:"100%"};return Object(h.jsx)("div",Object(a.a)(Object(a.a)({className:"suggestions"},n(e,{style:s})),{},{children:e.description}),t)})]})]})}})}function O(e){return Object(h.jsx)("button",{className:"compass",onClick:function(){navigator.geolocation.getCurrentPosition(t=>{const s=t.coords.latitude,n=t.coords.longitude;e.mapRef.current.panTo({lat:s,lng:n}),e.mapRef.current.setZoom(14)},()=>null,{enableHighAccuracy:!0})},children:Object(h.jsx)("img",{src:"./images/compass.svg",alt:"Compass"})})}var x=s(36);function v(e){let{title:t,steps:s}=e;const[r,l]=Object(n.useState)(!1);return v.handleClickOutside=()=>l(!1),Object(h.jsxs)("div",{className:"dropup",children:[Object(h.jsx)("button",{onClick:()=>l(!r),className:"dropbtn",children:t}),Object(h.jsx)("div",{className:"dropup-content",children:r&&s.map((e,t)=>Object(h.jsxs)("li",{children:[Object(h.jsx)("td",{dangerouslySetInnerHTML:{__html:e.instructions}}),Object(h.jsxs)("p",{children:["Distance : ",e.distance.text," "]}),Object(h.jsxs)("p",{children:["Duration : ",e.duration.text]})]},t))})]})}const f={handleClickOutside:()=>v.handleClickOutside};var w=Object(x.a)(v,f);function y(e){let{mapRef:t,markers:s,polylines:r,clearDirections:l,btn:a,setBtn:i,routeBox:c,setRouteBox:o,stIdx:d,travMode:u,showTravMode:j,setShowTravMode:g,stshowIdx:m,setStshowIdx:p}=e;var b=Object(n.useRef)(),O=Object(n.useRef)([]),x=Object(n.useRef)(Number.MAX_VALUE),[v,f]=Object(n.useState)({dist:"",time:""}),y=Object(n.useRef)(),N=Object(n.useRef)([]),[T,S]=Object(n.useState)([]),C=new window.google.maps.DirectionsService;function k(){b.current=new window.google.maps.LatLngBounds,s.forEach(e=>{b.current.extend({lat:e.lat,lng:e.lng})}),t.current.setCenter(b.current.getCenter()),t.current.fitBounds(b.current)}function I(){return"DRIVING"===u.current?window.google.maps.TravelMode.DRIVING:"WALKING"===u.current?window.google.maps.TravelMode.WALKING:"TRANSIT"===u.current?window.google.maps.TravelMode.TRANSIT:"BICYCLING"===u.current?window.google.maps.TravelMode.BICYCLING:void 0}let M=function(e,t,s,n){if(t===n)return{currTime:e[s].elements[0].duration.value,currPath:[0]};if(-1!==y[s][t])return y[s][t];let r=Number.MAX_VALUE,l=[s];for(let a=0;a<e.length;a++)if(0===(t&1<<a)){let{currTime:i,currPath:c}=M(e,t|1<<a,a,n);i+=e[s].elements[a].duration.value,i<r&&(r=i,l=[a,...c])}return y[s][t]={currTime:r,currPath:l}};function L(e){s.length<2?alert("Please Mark atleast two locations."):(l(),u.current=e,g(u.current),k(),function(){let e=[];function n(){let s=[];for(let t=0;t<O.current.length-1;t++)s.push({origin:e[O.current[t]],destination:e[O.current[t+1]],travelMode:I()});function n(e){return Promise.all(e.map(e=>new Promise(function(t){C.route(e,function(e,s){if("OK"===s)return t(e.routes[0].legs[0])})})))}n(s).then(e=>{S(e);var s=0,n=0;e.forEach(e=>{s+=e.distance.value,n+=e.duration.value}),s=(s/1e3).toFixed(2),n=(n/60).toFixed(0),f({dist:s+" Km",time:n+" mins"}),N.current=e.map(e=>e.steps.flatMap(e=>e.path));let r=e.flatMap(e=>e.steps.flatMap(e=>e.path));d.current=0,p(d.current),B(t.current,r,0)})}s.map(t=>e.push({lat:t.lat,lng:t.lng})),function(e,t){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:e,destinations:e,travelMode:I()},(e,n)=>{if("OK"===n){for(let t=0;t<e.rows.length;t++)for(let s=0;s<e.rows[t].elements.length;s++)if("OK"!==e.rows[t].elements[s].status)return alert("No route available for the selected Mode at this moment."),i(!1),void o(!1);i(!0),o(!0),y=new Array(s.length);for(let e=0;e<y.length;e++){y[e]=new Array(Math.pow(2,s.length));for(let t=0;t<y[e].length;t++)y[e][t]=-1}let{currTime:n,currPath:r}=M(e.rows,1,0,Math.pow(2,s.length)-1);O.current=[0,...r],x.current=n,t()}else alert(n)})}(e,n)}())}function B(e,t,s){r[s]=new window.google.maps.Polyline({path:[],geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3,editable:!1,map:e});let n=Math.ceil(t.length/5e3),l=Math.ceil(t.length/n),a=1;window.requestAnimationFrame(function e(){r[s].setPath(t.slice(0,a*n)),a++,a<=l&&window.requestAnimationFrame(e)})}const R=()=>{k(),d.current<N.current.length&&B(t.current,N.current[d.current],d.current),d.current=d.current+1,p(d.current),d.current===N.current.length+1&&i(!0)};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"directions-choose-box",children:[Object(h.jsx)("p",{children:"Choose Mode of Traveling"}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("button",{className:"travBtn",onClick:()=>L("DRIVING"),children:"Driving"}),Object(h.jsx)("button",{className:"travBtn",onClick:()=>L("WALKING"),children:"Walking"}),Object(h.jsx)("button",{className:"travBtn",onClick:()=>L("BICYCLING"),children:"Bicycling"}),Object(h.jsx)("button",{className:"travBtn",onClick:()=>L("TRANSIT"),children:"Transit"})]}),Object(h.jsxs)("p",{className:"directions-para",children:["Mode : ",j]}),Object(h.jsx)("button",{className:"travBtn remove-direction",onClick:()=>l(),children:"Remove Directions"})]}),c&&Object(h.jsxs)("div",{children:[a&&Object(h.jsxs)("div",{className:"route-box",children:[Object(h.jsx)("p",{children:"Directions"}),Object(h.jsx)("div",{className:"scroll-list",children:T.map((e,t)=>0===t?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"route-points",children:[Object(h.jsx)("div",{className:"route-list-div2",children:"Start : "}),Object(h.jsx)("div",{className:"route-list-div",children:e.start_address})]}),Object(h.jsxs)("div",{className:"route-points",children:[Object(h.jsx)("div",{className:"route-list-div2",children:t+1}),Object(h.jsx)("div",{className:"route-list-div",children:e.end_address})]})]},t):t===T.length-1?Object(h.jsxs)("div",{className:"route-points",children:[Object(h.jsx)("div",{className:"route-list-div2",children:"End : "}),Object(h.jsx)("div",{className:"route-list-div",children:e.end_address})]},t):Object(h.jsxs)("div",{className:"route-points",children:[Object(h.jsx)("div",{className:"route-list-div2",children:t+1}),Object(h.jsx)("div",{className:"route-list-div",children:e.end_address})]},t))}),Object(h.jsxs)("div",{className:"distTime",children:[Object(h.jsxs)("span",{children:["Total Distance : ",v.dist," "]}),Object(h.jsxs)("span",{children:["Time : ",v.time]})]}),Object(h.jsx)("button",{onClick:()=>(l(),o(!0),i(!1),g(u.current),void R()),children:"Show By Step Directions"})]}),!a&&Object(h.jsxs)("div",{className:"stepDirectionsBox",children:[Object(h.jsx)("p",{children:"Start Point : "}),Object(h.jsx)("div",{className:"startEnd",children:T[m-1].start_address}),Object(h.jsx)("p",{children:"End Point : "}),Object(h.jsx)("div",{className:"startEnd",children:T[m-1].end_address}),Object(h.jsx)(w,{title:"Steps",steps:T[m-1].steps}),Object(h.jsx)("div",{className:"nxtDirec",children:Object(h.jsx)("button",{onClick:()=>R(),children:"Next Direction"})})]})]})]})}s(59).config();const N={width:"100vw",height:"100vh"},T={lat:28.7041,lng:77.1025},S={styles:m,mapTypeControl:!0};function C(){const[e]=Object(n.useState)(["places"]),{isLoaded:t,loadError:s}=Object(i.d)({googleMapsApiKey:"AIzaSyADST_mm5Bu35Na3ekToQnN_beXIuBzKM8",libraries:e}),[r,l]=Object(n.useState)([]),[o,u]=Object(n.useState)(null),[m,x]=Object(n.useState)(""),[v,f]=Object(n.useState)(!0),[w,C]=Object(n.useState)(!1);var k=Object(n.useRef)(0),I=Object(n.useRef)([]),M=Object(n.useRef)(null);const[L,B]=Object(n.useState)(null),[R,A]=Object(n.useState)(0),D=Object(n.useRef)(),P=Object(n.useCallback)(e=>{D.current=e},[]),_=()=>{if(f(!0),C(!1),B(null),k.current=0,A(k.current),0!==I.current.length)for(let e=0;e<I.current.length;e++)I.current[e].setMap(null)};function G(e){_(),l(t=>t.filter((t,s)=>s!==e))}return s?Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Inter, sans-serif",fontSize:"18px",color:"#374151"},children:"Error Loading Maps! Please check your network connection."}):t?Object(h.jsxs)("div",{children:[Object(h.jsx)(d.a,{}),Object(h.jsx)(b,{address:m,setAddress:x,handleSelect:async e=>{const t=await Object(c.geocodeByAddress)(e),s=await Object(c.getLatLng)(t[0]);x(e),D.current.panTo({lat:s.lat,lng:s.lng}),D.current.setZoom(14)}}),Object(h.jsx)(O,{mapRef:D}),Object(h.jsxs)(i.a,{className:"map",mapContainerStyle:N,zoom:8,center:T,options:S,onClick:e=>{const t=new window.google.maps.Geocoder,s={lat:e.latLng.lat(),lng:e.latLng.lng()};t.geocode({location:s},(t,s)=>{if("OK"===s){var n=""+t[0].formatted_address;l(t=>[...t,{address:n,lat:e.latLng.lat(),lng:e.latLng.lng()}])}else window.alert("Geocoder failed due to: "+s),l(t=>[...t,{address:"",lat:e.latLng.lat(),lng:e.latLng.lng()}])}),_()},onLoad:P,children:[r.map((e,t)=>Object(h.jsx)(i.c,{position:{lat:e.lat,lng:e.lng},icon:{url:"./images/marker4.svg",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,35)},animation:window.google.maps.Animation.DROP,onClick:()=>{u(Object(a.a)(Object(a.a)({},e),{},{index:t}))},draggable:!0,onDragEnd:e=>((e,t)=>{console.log(e,t),u(null);const s=new window.google.maps.Geocoder,n={lat:e.latLng.lat(),lng:e.latLng.lng()};s.geocode({location:n},(s,n)=>{if("OK"===n){var r=""+s[0].formatted_address;l(s=>s.map((s,n)=>n!==t?s:{address:r,lat:e.latLng.lat(),lng:e.latLng.lng()}))}else window.alert("Geocoder failed due to: "+n),l(s=>s.map((s,n)=>n===t?s:{address:"",lat:e.latLng.lat(),lng:e.latLng.lng()}))}),_()})(e,t)},t)),o&&Object(h.jsx)(i.b,{position:{lat:o.lat,lng:o.lng},options:{pixelOffset:new window.google.maps.Size(0,-30)},onCloseClick:()=>{u(null)},children:Object(h.jsxs)("div",{className:"infowindow-content",children:[Object(h.jsx)("p",{children:o.address}),Object(h.jsx)(g.a,{"aria-label":"delete",onClick:()=>{G(o.index),u(null)},children:Object(h.jsx)(j.a,{})})]})}),r.length&&Object(h.jsx)("div",{className:"addressContainer",children:r.map((e,t)=>Object(h.jsx)(p,{marker:e,onDelete:G,id:t,setSelected:u},t))}),Object(h.jsx)(y,{mapRef:D,markers:r,clearDirections:_,polylines:I.current,btn:v,setBtn:f,routeBox:w,setRouteBox:C,stIdx:k,travMode:M,showTravMode:L,setShowTravMode:B,setStshowIdx:A,stshowIdx:R})]})]}):Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Inter, sans-serif",fontSize:"18px",color:"#374151"},children:"Loading Maps..."})}s(62);l.a.render(Object(h.jsx)(C,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.a8a76b03.chunk.js.map